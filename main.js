const _0x251df3 = _0x37eb; (function (_0x18116e, _0x250a50) { const _0x343965 = _0x37eb, _0x489841 = _0x18116e(); while (!![]) { try { const _0x31f9b9 = -parseInt(_0x343965(0x82)) / 0x1 + parseInt(_0x343965(0xa7)) / 0x2 + parseInt(_0x343965(0xb1)) / 0x3 * (parseInt(_0x343965(0x8c)) / 0x4) + -parseInt(_0x343965(0x94)) / 0x5 * (parseInt(_0x343965(0xb3)) / 0x6) + -parseInt(_0x343965(0x7b)) / 0x7 + -parseInt(_0x343965(0x7e)) / 0x8 * (parseInt(_0x343965(0xa1)) / 0x9) + parseInt(_0x343965(0xa9)) / 0xa; if (_0x31f9b9 === _0x250a50) break; else _0x489841['push'](_0x489841['shift']()); } catch (_0x102626) { _0x489841['push'](_0x489841['shift']()); } } }(_0x4e48, 0x294ab)); function _0x4e48() { const _0x527001 = ['addIceCandidate', 'backgroundColor', 'type', '2217yGCwAV', 'addEventListener', '36NPtFfL', 'leave', 'room', 'find', 'setRemoteDescription', 'stun:stun1.l.google.com:19302', 'log', 'mic-btn', 'onicecandidate', 'getTracks', 'user-2', '34b65813e6674990a2d0fc05ca9e1495', '1605793CKnkwu', 'enabled', 'video', '952teQQIE', 'login', 'smallFrame', 'click', '104627ZzyUMC', 'A\x20new\x20user\x20joined\x20the\x20channel:', 'camera-btn', 'getElementById', 'addTrack', 'candidate', 'MessageFromPeer', 'none', 'get', 'createAnswer', '1084PluQaP', 'block', 'mediaDevices', 'display', 'sendMessageToPeer', 'srcObject', 'style', 'classList', '17140rjILSF', 'setLocalDescription', 'add', 'createChannel', 'answer', 'remove', 'getUserMedia', 'stringify', 'search', 'text', 'forEach', 'audio', 'createInstance', '2826xcJkkJ', 'kind', 'rgb(179,\x20102,\x20249,\x20.9)', 'user-1', 'currentRemoteDescription', 'parse', '632184OdbKoY', 'floor', '447300EVAdJd', 'random', 'createOffer', 'offer', 'lobby.html']; _0x4e48 = function () { return _0x527001; }; return _0x4e48(); } let APP_ID = _0x251df3(0x7a), token = null, uid = String(Math[_0x251df3(0xa8)](Math[_0x251df3(0xaa)]() * 0x2710)), client, channel, queryString = window['location'][_0x251df3(0x9c)], urlParams = new URLSearchParams(queryString), roomId = urlParams[_0x251df3(0x8a)](_0x251df3(0xb5)); function _0x37eb(_0x5315a5, _0x459c36) { const _0x4e48ac = _0x4e48(); return _0x37eb = function (_0x37eba7, _0x3e4ef3) { _0x37eba7 = _0x37eba7 - 0x73; let _0x429a75 = _0x4e48ac[_0x37eba7]; return _0x429a75; }, _0x37eb(_0x5315a5, _0x459c36); } !roomId && (window['location'] = _0x251df3(0xad)); let localStream, remoteStream, peerConnection; const servers = { 'iceServers': [{ 'urls': [_0x251df3(0x74), 'stun:stun2.l.google.com:19302'] }] }; let constraints = { 'video': { 'width': { 'min': 0x280, 'ideal': 0x780, 'max': 0x780 }, 'height': { 'min': 0x1e0, 'ideal': 0x438, 'max': 0x438 } }, 'audio': !![] }, init = async () => { const _0x2e8e0d = _0x251df3; client = await AgoraRTM[_0x2e8e0d(0xa0)](APP_ID), await client[_0x2e8e0d(0x7f)]({ 'uid': uid, 'token': token }), channel = client[_0x2e8e0d(0x97)](roomId), await channel['join'](), channel['on']('MemberJoined', handleUserJoined), channel['on']('MemberLeft', handleUserLeft), client['on'](_0x2e8e0d(0x88), handleMessageFromPeer), localStream = await navigator[_0x2e8e0d(0x8e)][_0x2e8e0d(0x9a)](constraints), document['getElementById'](_0x2e8e0d(0xa4))[_0x2e8e0d(0x91)] = localStream; }, handleUserLeft = _0x1ca68c => { const _0x5ba0c6 = _0x251df3; document['getElementById'](_0x5ba0c6(0x79))[_0x5ba0c6(0x92)][_0x5ba0c6(0x8f)] = _0x5ba0c6(0x89), document[_0x5ba0c6(0x85)](_0x5ba0c6(0xa4))['classList'][_0x5ba0c6(0x99)](_0x5ba0c6(0x80)); }, handleMessageFromPeer = async (_0x221212, _0xdcb26) => { const _0x197fd6 = _0x251df3; _0x221212 = JSON[_0x197fd6(0xa6)](_0x221212[_0x197fd6(0x9d)]), _0x221212['type'] === 'offer' && createAnswer(_0xdcb26, _0x221212[_0x197fd6(0xac)]), _0x221212[_0x197fd6(0xb0)] === 'answer' && addAnswer(_0x221212[_0x197fd6(0x98)]), _0x221212[_0x197fd6(0xb0)] === 'candidate' && (peerConnection && peerConnection[_0x197fd6(0xae)](_0x221212[_0x197fd6(0x87)])); }, handleUserJoined = async _0x1ff328 => { const _0x2165e7 = _0x251df3; console[_0x2165e7(0x75)](_0x2165e7(0x83), _0x1ff328), createOffer(_0x1ff328); }, createPeerConnection = async _0xc4b652 => { const _0x4d27fd = _0x251df3; peerConnection = new RTCPeerConnection(servers), remoteStream = new MediaStream(), document[_0x4d27fd(0x85)](_0x4d27fd(0x79))['srcObject'] = remoteStream, document[_0x4d27fd(0x85)](_0x4d27fd(0x79))[_0x4d27fd(0x92)]['display'] = _0x4d27fd(0x8d), document['getElementById'](_0x4d27fd(0xa4))[_0x4d27fd(0x93)][_0x4d27fd(0x96)](_0x4d27fd(0x80)), !localStream && (localStream = await navigator['mediaDevices'][_0x4d27fd(0x9a)](constraints), document[_0x4d27fd(0x85)](_0x4d27fd(0xa4))[_0x4d27fd(0x91)] = localStream), localStream['getTracks']()[_0x4d27fd(0x9e)](_0x22e308 => { const _0x2e58a1 = _0x4d27fd; peerConnection[_0x2e58a1(0x86)](_0x22e308, localStream); }), peerConnection['ontrack'] = _0x53985e => { const _0x346c76 = _0x4d27fd; _0x53985e['streams'][0x0][_0x346c76(0x78)]()[_0x346c76(0x9e)](_0x190a45 => { remoteStream['addTrack'](_0x190a45); }); }, peerConnection[_0x4d27fd(0x77)] = async _0x606769 => { const _0x3e5e06 = _0x4d27fd; _0x606769['candidate'] && client[_0x3e5e06(0x90)]({ 'text': JSON[_0x3e5e06(0x9b)]({ 'type': _0x3e5e06(0x87), 'candidate': _0x606769[_0x3e5e06(0x87)] }) }, _0xc4b652); }; }, createOffer = async _0x305bd7 => { const _0x2445f9 = _0x251df3; await createPeerConnection(_0x305bd7); let _0x3ebec6 = await peerConnection[_0x2445f9(0xab)](); await peerConnection[_0x2445f9(0x95)](_0x3ebec6), client[_0x2445f9(0x90)]({ 'text': JSON['stringify']({ 'type': _0x2445f9(0xac), 'offer': _0x3ebec6 }) }, _0x305bd7); }, createAnswer = async (_0x388f83, _0x2677d0) => { const _0x5094df = _0x251df3; await createPeerConnection(_0x388f83), await peerConnection[_0x5094df(0x73)](_0x2677d0); let _0x509df5 = await peerConnection[_0x5094df(0x8b)](); await peerConnection[_0x5094df(0x95)](_0x509df5), client[_0x5094df(0x90)]({ 'text': JSON[_0x5094df(0x9b)]({ 'type': _0x5094df(0x98), 'answer': _0x509df5 }) }, _0x388f83); }, addAnswer = async _0x5ba758 => { const _0x5a8e48 = _0x251df3; !peerConnection[_0x5a8e48(0xa5)] && peerConnection[_0x5a8e48(0x73)](_0x5ba758); }, leaveChannel = async () => { const _0x3257f7 = _0x251df3; await channel[_0x3257f7(0xb4)](), await client['logout'](); }, toggleCamera = async () => { const _0x4c320e = _0x251df3; let _0x5f4928 = localStream['getTracks']()['find'](_0xa60234 => _0xa60234[_0x4c320e(0xa2)] === _0x4c320e(0x7d)); _0x5f4928['enabled'] ? (_0x5f4928[_0x4c320e(0x7c)] = ![], document[_0x4c320e(0x85)](_0x4c320e(0x84))[_0x4c320e(0x92)][_0x4c320e(0xaf)] = 'rgb(255,\x2080,\x2080)') : (_0x5f4928['enabled'] = !![], document[_0x4c320e(0x85)](_0x4c320e(0x84))[_0x4c320e(0x92)][_0x4c320e(0xaf)] = _0x4c320e(0xa3)); }, toggleMic = async () => { const _0x52e8af = _0x251df3; let _0x2bd0ad = localStream[_0x52e8af(0x78)]()[_0x52e8af(0xb6)](_0x2bff7e => _0x2bff7e[_0x52e8af(0xa2)] === _0x52e8af(0x9f)); _0x2bd0ad[_0x52e8af(0x7c)] ? (_0x2bd0ad['enabled'] = ![], document[_0x52e8af(0x85)](_0x52e8af(0x76))[_0x52e8af(0x92)][_0x52e8af(0xaf)] = 'rgb(255,\x2080,\x2080)') : (_0x2bd0ad[_0x52e8af(0x7c)] = !![], document[_0x52e8af(0x85)]('mic-btn')[_0x52e8af(0x92)][_0x52e8af(0xaf)] = _0x52e8af(0xa3)); }; window[_0x251df3(0xb2)]('beforeunload', leaveChannel), document[_0x251df3(0x85)](_0x251df3(0x84))[_0x251df3(0xb2)](_0x251df3(0x81), toggleCamera), document[_0x251df3(0x85)](_0x251df3(0x76))['addEventListener'](_0x251df3(0x81), toggleMic), init();




